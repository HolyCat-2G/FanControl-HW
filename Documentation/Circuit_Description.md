# Описание схемы

## 1. Общее описание
FanControl-HW представляет собой систему управления вентиляторами, предназначенную для поддержания оптимальной температуры внутри корпуса 3D-принтера. В систему входят:
- Контроллер на базе микроконтроллера PIC16F883.
- Датчики температуры DS18B20, подключенные по интерфейсу 1-Wire.
- Вентиляторы различного напряжения (12В или 24В), управляемые с помощью транзисторных ключей.
- Интерфейс связи с ПК через USB-UART конвертер CH343G.

## 2. Структура работы
1. Датчики температуры измеряют температуру в корпусе.
2. Контроллер анализирует данные и управляет вентиляторами в зависимости от заданных порогов.
3. Взаимодействие с пользователем возможно через UART (команды настройки порогов, просмотр текущих значений).
4. При подключении к ПК система может передавать данные о температуре и состоянии вентиляторов.

## 3. Описание узлов

### 3.1 Блок питания
- Используется входное напряжение 12В или 24В (зависит от принтера).
- Для питания микроконтроллера используется линейный стабилизатор (например, 7805) для получения 5В.
- Питание датчиков температуры также осуществляется от 5В.

### 3.2 Управление вентиляторами
- Вентиляторы управляются через транзисторные ключи (MOSFET N-типа).
- Включение и регулировка скорости производится методом ШИМ.

### 3.3 Датчики температуры
- Используются цифровые датчики DS18B20 с интерфейсом 1-Wire.
- Подключение с общим резистором подтяжки 4.7 кОм.
- Возможность подключения нескольких датчиков для контроля разных зон.

### 3.4 Интерфейс связи с ПК
- CH343G обеспечивает преобразование UART в USB.
- Используется для настройки порогов температур и мониторинга данных.
- Опционально: ACT# (пин 8) можно использовать для определения подключения USB.

## 4. Принципы работы
1. Контроллер опрашивает датчики температуры по 1-Wire.
2. В зависимости от текущей температуры включает или регулирует скорость вентиляторов.
3. Пользователь может изменять пороги температур через UART.
4. Настройки сохраняются в EEPROM микроконтроллера.
5. Возможен сброс настроек к заводским значениям.

## 5. Особенности схемотехники
- Использование фильтрующих конденсаторов на линиях питания для снижения помех.
- Гальваническая развязка интерфейса UART для защиты контроллера (если требуется).
- Защита от обратного включения питания для предотвращения повреждения схемы.

---

Этот документ может дополняться в процессе разработки. Если есть вопросы или предложения — создавайте Issues в репозитории.

